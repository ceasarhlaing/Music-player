
let search_albums = [
    {
        id: 'album_1',
        name: 'Map of the Soul: 7',
        singer: 'BTS',
        cover: './assets/audios/BTS/cover.jpg',
        songs: [
            {
                id: 'justin_01',
                name: 'Boy With Luv',
                singer: 'BTS',
                path: './assets/audios/BTS/Boywithluv.mp3',
                cover: './assets/audios/BTS/boywithluv.jpg'
            },
            {
                id: 'justin_02',
                name: 'ON',
                singer: 'BTS',
                path: './assets/audios/BTS/on.mp3',
                cover: './assets/audios/BTS/on.jpg'
            },
            {
                id: 'justin_03',
                name: 'Black Swan',
                singer: 'BTS',
                path: './assets/audios/BTS/blackswan.mp3',
                cover: './assets/audios/BTS/blackswan.jpg'
            },
            {
                id: 'justin_04',
                name: 'Make it Right',
                singer: 'BTS (feat. Lauv)',
                path: './assets/audios/BTS/makeitright.mp3',
                cover: './assets/audios/BTS/makeitright.jpg'
            },
			{
                id: 'justin_05',
                name: '00:00 (Zero O-Clock)',
                singer: 'Jin, Jimin, V, JK',
                path: './assets/audios/BTS/00.mp3',
                cover: './assets/audios/BTS/00.jpg'
            },
			{
                id: 'justin_06',
                name: 'Inner Child',
                singer: 'V',
                path: './assets/audios/BTS/child.mp3',
                cover: './assets/audios/BTS/child.jpg'
            }
        ]
    },
    {
        id: 'album_2',
        name: 'TWICE TWICELAND - THE OPENING [ENCORE]',
        singer: 'Twice',
        cover: './assets/audios/Twice/yory.jpg',
        songs: [
            {
                id: 'one_01',
                name: 'Like a Fool',
                singer: 'Twice',
                path: './assets/audios/Twice/fool.m4a',
                cover: './assets/audios/Twice/fool.jpg'
            },
            {
                id: 'one_02',
                name: 'TT',
                singer: 'Twice',
                path: './assets/audios/Twice/tt.m4a',
                cover: './assets/audios/Twice/tt.jpg'
            },
			{
                id: 'one_03',
                name: '1 To 10',
                singer: 'Twice',
                path: './assets/audios/Twice/110.m4a',
                cover: './assets/audios/Twice/110.webp'
            },
			{
                id: 'one_04',
                name: 'Cheer Up',
                singer: 'Twice',
                path: './assets/audios/Twice/cheer.m4a',
                cover: './assets/audios/Twice/cheer.jpg'
            },
			{
                id: 'one_05',
                name: 'Someone Like Me',
                singer: 'Twice',
                path: './assets/audios/Twice/slm.m4a',
                cover: './assets/audios/Twice/slm.'
            },
			{
                id: 'one_06',
                name: 'One In A Million',
                singer: 'Twice',
                path: './assets/audios/Twice/million.mp3',
                cover: './assets/audios/Twice/million.webp'
            },
			{
                id: 'one_07',
                name: 'Signal',
                singer: 'Twice',
                path: './assets/audios/Twice/signal.mp3',
                cover: './assets/audios/Twice/signal.webp'
            },
			{
                id: 'one_08',
                name: 'Knock Knock',
                singer: 'Twice',
                path: './assets/audios/Twice/kk.mp3',
                cover: './assets/audios/Twice/kk.webp'
            }
        ]
    },
    {
        id: 'album_3',
        name: "Born Pink",
        singer: 'Black Pink',
        cover: './assets/audios/BlackPink/bp.jpg',
        songs: [
            {
                id: 'charlie_01',
                name: 'Tally',
                singer: 'Black Pink',
                path: './assets/audios/BlackPink/tally.m4a',
                cover: './assets/audios/BlackPink/tally.jpg'
            },
            {
                id: 'charlie_02',
                name: 'Shut Down',
                singer: 'Black Pink',
                path: './assets/audios/BlackPink/shutdown.m4a',
                cover: './assets/audios/BlackPink/shutdown.png'
            },
			{
                id: 'charlie_03',
                name: 'Hard to Love',
                singer: 'Rose',
                path: './assets/audios/BlackPink/htl.m4a',
                cover: './assets/audios/BlackPink/htl.jpeg'
            },
			{
                id: 'charlie_04',
                name: 'Pink Vernom',
                singer: 'Black Pink',
                path: './assets/audios/BlackPink/pinkvernom.m4a',
                cover: './assets/audios/BlackPink/pinkvernom.jpg'
            },
			{
                id: 'charlie_05',
                name: 'Yeah Yeah Yeah',
                singer: 'Black Pink',
                path: './assets/audios/BlackPink/yyy.m4a',
                cover: './assets/audios/BlackPink/yyy.jpg'
            },
			
			{
                id: 'charlie_06',
                name: 'Ready For Love',
                singer: 'Black Pink',
                path: './assets/audios/BlackPink/rfl.m4a',
                cover: './assets/audios/BlackPink/rfl.jpg'
            },
			
			{
                id: 'charlie_07',
                name: 'Typa girl',
                singer: 'Black Pink',
                path: './assets/audios/BlackPink/typagirl.m4a',
                cover: './assets/audios/BlackPink/typagirl.jpg'
            },
			{
                id: 'charlie_08',
                name: 'The Happiest girl',
                singer: 'Black Pink',
                path: './assets/audios/BlackPink/thg.m4a',
                cover: './assets/audios/BlackPink/thg.jpg'
            }
			
        ]
    },

       {
        id: 'album_4',
        name: 'Best Songs Of Justin Bieber',
        singer: 'Justin Bieber',
        cover: './assets/audios/justin_bieber/jb.jpg',
        songs: [
            {
                id: 'justin_01',
                name: 'Anyone',
                singer: 'Justin Bieber',
                path: './assets/audios/justin_bieber/anyone.mp3',
                cover: './assets/audios/justin_bieber/anyone.webp'
            },
            {
                id: 'justin_02',
                name: 'Ghost',
                singer: 'Justin Bieber',
                path: './assets/audios/justin_bieber/ghost.mp3',
                cover: './assets/audios/justin_bieber/ghost.webp'
            },
            {
                id: 'justin_03',
                name: 'Lonely',
                singer: 'Justin Bieber',
                path: './assets/audios/justin_bieber/lonely.mp3',
                cover: './assets/audios/justin_bieber/lonely.webp'
            },
            {
                id: 'justin_04',
                name: 'Baby',
                singer: 'Justin Bieber',
                path: './assets/audios/justin_bieber/baby.mp3',
                cover: './assets/audios/justin_bieber/baby.webp'
            },
			
            {    id: 'justin_05',
                name: 'Love Me',
                singer: 'Justin Bieber',
                path: './assets/audios/justin_bieber/loveme.m4a',
                cover: './assets/audios/justin_bieber/loveme.jpg'
            },
			
            {   id: 'justin_06',
                name: 'Eeenie Meenie',
                singer: 'Justin Bieber',
                path: './assets/audios/justin_bieber/em.m4a',
                cover: './assets/audios/justin_bieber/em.jpg'
            },
			
			{  id: 'justin_07',
                name: 'That Should Be Me',
                singer: 'Justin Bieber',
                path: './assets/audios/justin_bieber/should.m4a',
                cover: './assets/audios/justin_bieber/should.jpg'
            },
			
			{   id: 'justin_08',
                name: 'Yummy',
                singer: 'Justin Bieber',
                path: './assets/audios/justin_bieber/yummy.m4a',
                cover: './assets/audios/justin_bieber/yummy.jpg'
            }
        ]
    },
    {
        id: 'album_5',
        name: 'One Direction Greatest Hits',
        singer: 'One Direction',
        cover: './assets/audios/one_direction/one.jpg',
        songs: [
            {
                id: 'one_01',
                name: 'Story Of My Life',
                singer: 'One Direction',
                path: './assets/audios/one_direction/storyofmylife.mp3',
                cover: './assets/audios/one_direction/storyofmylife.webp'
            },
            {
                id: 'one_02',
                name: 'You And I',
                singer: 'One Direction',
                path: './assets/audios/one_direction/youandi.mp3',
                cover: './assets/audios/one_direction/youandi.webp'
            },
		{
                id: 'one_03',
                name: 'Eighteen',
                singer: 'One Direction',
                path: './assets/audios/one_direction/18.m4a',
                cover: './assets/audios/one_direction/18.jpg'
            },	
			{
                id: 'one_04',
                name: 'Strong',
                singer: 'One Direction',
                path: './assets/audios/one_direction/strong.m4a',
                cover: './assets/audios/one_direction/strong.jpg'
            },
			{
                id: 'one_05',
                name: 'Right Now',
                singer: 'One Direction',
                path: './assets/audios/one_direction/rn.m4a',
                cover: './assets/audios/one_direction/rn.jpg'
            },
			{
                id: 'one_06',
                name: 'They do not know about us',
                singer: 'One Direction',
                path: './assets/audios/one_direction/know.m4a',
                cover: './assets/audios/one_direction/know.jpg'
            },
			{
                id: 'one_07',
                name: 'One Thing',
                singer: 'One Direction',
                path: './assets/audios/one_direction/ot.m4a',
                cover: './assets/audios/one_direction/ot.png'
            },
			{
                id: 'one_08',
                name: 'Night Changes',
                singer: 'One Direction',
                path: './assets/audios/one_direction/nc.m4a',
                cover: './assets/audios/one_direction/nc.jpg'
            }
        ]
    },
    {
        id: 'album_6',
        name: "Seventeen Popular Songs",
        singer: 'Seventeen',
        cover: './assets/audios/svt/svt.jpg',
        songs: [
            {
                id: 'charlie_01',
                name: 'Clap',
                singer: 'Seventeen',
                path: './assets/audios/svt/clap.m4a',
                cover: './assets/audios/svt/clap.webp'
            },
            {
                id: 'charlie_02',
                name: 'Super',
                singer: 'Seventeen',
                path: './assets/audios/svt/super.m4a',
                cover: './assets/audios/svt/super.png'
            },
			{
                id: 'charlie_03',
                name: 'Pretty U',
                singer: 'Seventeen',
                path: './assets/audios/svt/pu.m4a',
                cover: './assets/audios/svt/pu.jpg'
            },
			{
                id: 'charlie_04',
                name: 'Home',
                singer: 'Seventeen',
                path: './assets/audios/svt/home.m4a',
                cover: './assets/audios/svt/home.jpg'
            },
			{
                id: 'charlie_05',
                name: 'Hot',
                singer: 'Seventeen',
                path: './assets/audios/svt/hot.m4a',
                cover: './assets/audios/svt/hot.jpg'
            },
			{
                id: 'charlie_06',
                name: 'Very Nice',
                singer: 'Seventeen',
                path: './assets/audios/svt/vn.m4a',
                cover: './assets/audios/svt/vn.jpg'
            },
			{
                id: 'charlie_07',
                name: 'Do not wanna cry',
                singer: 'Seventeen',
                path: './assets/audios/svt/dwc.m4a',
                cover: './assets/audios/svt/dwc.png'
            },
			{
                id: 'charlie_08',
                name: 'Darling',
                singer: 'Seventeen',
                path: './assets/audios/svt/d.m4a',
                cover: './assets/audios/svt/darling.jpg'
            }
        ]
    },	
	{
          id: 'album_7',
        name: 'Taylor Swift Popular Songs',
        singer: 'Taylor Swift',
        cover: './assets/audios/Ts/taylor.jpg',
        songs: [
            {
                id: 'one_01',
                name: 'Lover',
                singer: 'Taylor Swift',
                path: './assets/audios/Ts/lover.m4a',
                cover: './assets/audios/Ts/lover.jpg'
            },
            {
                id: 'one_02',
                name: 'You Belong With Me',
                singer: 'Taylor Swift',
                path: './assets/audios/Ts/ubwe.m4a',
                cover: './assets/audios/Ts/ubwe.jpg'
            },
			{
                id: 'one_03',
                name: 'Enchanted',
                singer: 'Taylor Swift',
                path: './assets/audios/Ts/en.m4a',
                cover: './assets/audios/Ts/en.jpg'
            },
			{
                id: 'one_04',
                name: 'Love Story',
                singer: 'Taylor Swift',
                path: './assets/audios/Ts/ls.m4a',
                cover: './assets/audios/Ts/ls.jpg'
            },
			{
                id: 'one_05',
                name: 'Look what you make me do',
                singer: 'Taylor Swift',
                path: './assets/audios/Ts/lwymmd.m4a',
                cover: './assets/audios/Ts/lwymmd.jpg'
            },
			{
                id: 'one_06',
                name: 'August',
                singer: 'Taylor Swift',
                path: './assets/audios/Ts/8.m4a',
                cover: './assets/audios/Ts/8.jpg'
            },
			{
                id: 'one_07',
                name: 'Blank Space',
                singer: 'Taylor Swift',
                path: './assets/audios/Ts/bs.m4a',
                cover: './assets/audios/Ts/bs.jpg'
            },
			{
                id: 'one_08',
                name: 'Anti-Hero',
                singer: 'Taylor Swift',
                path: './assets/audios/Ts/ah.m4a',
                cover: './assets/audios/Ts/ah.jpg'
            },
			
        ]
    },
	{
          id: 'album_8',
        name: 'Enhypen Popular Songs',
        singer: 'Enhypen',
        cover: './assets/audios/en/en.jpg',
        songs: [
            {
                id: 'one_01',
                name: 'Drunk-Dazed',
                singer: 'Enhypen',
                path: './assets/audios/en/dd.m4a',
                cover: './assets/audios/en/dd.jpg'
            },
            {
                id: 'one_02',
                name: 'Hey Tayo',
                singer: 'Enhypen',
                path: './assets/audios/en/tayo.m4a',
                cover: './assets/audios/en/tayo.jpg'
            },
			{
                id: 'one_03',
                name: 'Blockbuster',
                singer: 'Enhypen feat:YeonJun',
                path: './assets/audios/en/bb.m4a',
                cover: './assets/audios/en/bb.jpg'
            },
			{
                id: 'one_04',
                name: 'Polaroid Love',
                singer: 'Enhypen',
                path: './assets/audios/en/pl.m4a',
                cover: './assets/audios/en/pl.jpg'
            },
			{
                id: 'one_05',
                name: 'Future Perfect',
                singer: 'Enhypen',
                path: './assets/audios/en/fp.m4a',
                cover: './assets/audios/en/fp.jpg'
            },
			{
                id: 'one_06',
                name: 'Parado XXX Invasion',
                singer: 'Enhypen',
                path: './assets/audios/en/px.m4a',
                cover: './assets/audios/en/px.jpg'
            },
			{
                id: 'one_07',
                name: 'Bite Me',
                singer: 'Enhypen',
                path: './assets/audios/en/bm.m4a',
                cover: './assets/audios/en/bm.jpg'
            },
			{
                id: 'one_08',
                name: 'Shout Out',
                singer: 'Enhypen',
                path: './assets/audios/en/so.m4a',
                cover: './assets/audios/en/so.jpg'
            },
			
        ]
    },
];

const searchTag = document.getElementById('search-icon')
const inputTag = document.getElementById('search-input')
const resultTag = document.getElementById('result')

let search_songs = []

for (let i = 0; i < search_albums.length; i++) {

    let songsOfAlbum = search_albums[i].songs
    let result_songs = songsOfAlbum.map(song => {
        return {
            id: song.id,
            name: song.name,
            singer: song.singer,
            path: song.path,
            cover: song.cover,
            album_id: search_albums[i].id
        }
    })
    search_songs = songs.concat(result_songs)
}

searchTag.addEventListener('click', () => {
    const searchInputTag = document.getElementById('search-action')
    if(searchInputTag.hidden === true) {
        searchInputTag.hidden = false
    }else {
        searchInputTag.hidden = true
    }
})

// <div class="result-song">
// <img src="./assets/audios/one_direction/youandi.webp" alt="">
// <div>
//     <p class="name">Story Of My Life</p>
//     <p class="singer">One Direction</p>
// </div>
// </div>

inputTag.addEventListener('keyup', (event) => {
    resultTag.innerHTML = ''
    const searchText = event.target.value.toLowerCase() 
    if(searchText === '') {
        return
    }

    const searchResultSongs = search_songs.filter(song => {
        return song.name.toLowerCase().includes(searchText) || song.singer.toLowerCase().includes(searchText)
    })

    if(searchResultSongs.length > 0) {
        for (let i = 0; i < searchResultSongs.length; i++) {
            const parentTag = document.createElement('div')
            parentTag.classList.add('result-song')
    
            const imgTag = document.createElement('img')
            imgTag.src = searchResultSongs[i].cover
    
            const contentTag = document.createElement('div')
            const nameTag = document.createElement('p')
            nameTag.textContent = searchResultSongs[i].name
            const singerTag = document.createElement('p')
            singerTag.textContent = searchResultSongs[i].singer
            contentTag.append(nameTag, singerTag)
    
            parentTag.append(imgTag, contentTag)
            resultTag.append(parentTag)
    
            parentTag.addEventListener('click', () => {
                // console.log(searchResultSongs[i].album_id, searchResultSongs[i].id)
                window.location.href = 'play.html?album_id=' + searchResultSongs[i].album_id + '&song_id=' + searchResultSongs[i].id;
            })
        }
    }


})